<?xml version="1.0" encoding="ISO-8859-1" ?>
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:xcp="http://www.xcapesoftware.com.br/xcp_tags"
	template="#{xcp:getLayout('manut')}">

	<ui:define name="conteudo">
		<xcp:panelContent>

			<p:outputPanel id="panelParSisContent">

				<p:remoteCommand
					name="rcupdate"
					update="panelParSisContent"
					process="@this"
					immediate="true" />

				<xcp:panelForm>
					<xcp:lov
						id="lovCodParametro"
						value="#{xcpParametrosSistemaBacking.helper.codParametro}"
						size="30"
						label="#{bundle.lbl_codParametro}"
						query="xcp_tipo_parametro"
						selectionListener="#{xcpParametrosSistemaBacking.selectCodParametro}" />
					<!-- readonly="#{xcpParametrosSistemaBacking.helper.codParametro != null}" -->
				</xcp:panelForm>

				<xcp:panelForm>
					<c:forEach items="#{xcpParametrosSistemaBacking.helper.listaParametros}" var="row">
						<xcp:creator index="#{row.numParametro}" />
					</c:forEach>					
				</xcp:panelForm>

				<p:toolbar
					rendered="#{xcpParametrosSistemaBacking.helper.codParametro != null}"
					styleClass="xcp_pmanut_form_toolbar">
					<f:facet name="left">
						<xcp:commandButton
							id="btn_gravar"
							icon="ui-icon-disk"
							value="#{bundle.btn_gravar}"
							actionListener="#{xcpParametrosSistemaBacking.actionGravar}"
							process="panelParSisContent"
							update="panelParSisContent"
							onstart="PF('w_dlgXcpExecStatus').show();"
							oncomplete="PF('w_dlgXcpExecStatus').hide();" />

						<xcp:commandButton
							id="btn_limpar"
							icon="icon-limpar2"
							value="#{bundle.btn_limpar}"
							action="#{xcpParametrosSistemaBacking.actionLimpar}"
							process="@this"
							update="panelParSisContent">
							<p:resetInput target="panelParSisContent" />
						</xcp:commandButton>

					</f:facet>
				</p:toolbar>

			</p:outputPanel>

		</xcp:panelContent>
	</ui:define>

</ui:composition>