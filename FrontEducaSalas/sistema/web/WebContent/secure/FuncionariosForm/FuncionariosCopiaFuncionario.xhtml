<?xml version="1.0" encoding="ISO-8859-1" ?>
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:xcp="http://www.xcapesoftware.com.br/xcp_tags">

	<p:panel
		id="panelCopiaFuncionario"
		header="#{bundle.tit_CopiaFuncionario}">
		<xcp:panelForm>
			<xcp:lov
				id="lovCpMatricula"
				value="#{funcionariosCopiaFormBacking.funcOrigem}"
				size="8"
				label="#{bundle.lbl_matricula}"
				required="true"
				query="funcionarioscopia"
				update=":form"
				selectionListener="#{funcionariosCopiaFormBacking.selectFuncionario}" />

			<xcp:number
				id="txtCpMatriculaDestinoFunc"
				size="8"
				value="#{funcionariosCopiaFormBacking.matriculaDestino}"
				label="#{bundle.lbl_matriculaDestino}"
				required="true"
				rendered="#{funcionariosCopiaFormBacking.matriculaInformada}">
				<p:ajax
					event="change"
					listener="#{funcionariosCopiaFormBacking.validaMatricula}"
					update="@this" />
			</xcp:number>

			<xcp:date
				id="txtAdmissaoCop"
				required="true"
				value="#{funcionariosCopiaFormBacking.funcOrigem.admissao}"
				label="#{bundle.lbl_dtadmissao}">
				<p:ajax
					event="change"
					listener="#{funcionariosCopiaFormBacking.changeDtaAdmissao}" />
				<p:ajax
					event="dateSelect"
					listener="#{funcionariosCopiaFormBacking.changeDtaAdmissao}" />
			</xcp:date>

			<xcp:lov
				id="lovCpCargo"
				value="#{funcionariosCopiaFormBacking.funcOrigem.cargoFk}"
				label="#{bundle.lbl_cargo}"
				required="true"
				query="cargos"
				size="8"
				selectionListener="#{funcionariosCopiaFormBacking.selectCargo}"
				update="lovCpPadrao,lovNivel" />

			<xcp:lov
				id="lovCpPadrao"
				value="#{funcionariosCopiaFormBacking.cargosPadroesLov}"
				label="#{bundle.lbl_padrao}"
				required="true"
				query="cargos_padroes"
				size="8"
				params="#{funcionariosCopiaFormBacking.parEspPadrao}"
				selectionListener="#{funcionariosCopiaFormBacking.selectPadrao}"
				update="lovNivel" />

			<xcp:lov
				id="lovCpHorario"
				value="#{funcionariosCopiaFormBacking.funcOrigem.horarioFk}"
				label="#{bundle.lbl_horario}"
				required="true"
				query="horarios"
				size="8" />

			<xcp:lov
				id="lovNivel"
				value="#{funcionariosCopiaFormBacking.padroesNiveis}"
				label="#{bundle.lbl_nivel}"
				required="true"
				query="padroesniveis_padrao"
				params="#{funcionariosCopiaFormBacking.parEspNivel}"
				size="8"
				selectionListener="#{funcionariosCopiaFormBacking.selectNivel}" />

			<xcp:lov
				id="lovCpSetor"
				value="#{funcionariosCopiaFormBacking.funcOrigem.setorFk}"
				label="#{bundle.lbl_setor}"
				required="true"
				query="set_validade"
				size="8" />

			<xcp:lov
				id="lovCpFuncao"
				value="#{funcionariosCopiaFormBacking.funcOrigem.funcaoFk}"
				label="#{bundle.lbl_funcao}"
				required="true"
				query="funcoes"
				size="8" />

			<xcp:lov
				id="lovCpCcusto"
				value="#{funcionariosCopiaFormBacking.funcOrigem.ccustoFk}"
				label="#{bundle.lbl_ccusto}"
				required="true"
				query="ccustos"
				size="8" />

			<xcp:lov
				id="lovCpVinculo"
				value="#{funcionariosCopiaFormBacking.funcOrigem.vinculoFk}"
				label="#{bundle.lbl_vinculo}"
				required="true"
				query="vinculos"
				size="7" />
		</xcp:panelForm>
	</p:panel>
	<p:toolbar>
		<f:facet name="left">
			<xcp:commandButton
				id="btn_confirma_copia_func"
				value="#{bundle.btn_confirma_copia_func}"
				update="@form"
				process="@this panelCopiaFuncionario"
				action="#{funcionariosCopiaFormBacking.actionGravarCopiaFuncionario}" />
		</f:facet>
	</p:toolbar>

</ui:composition>